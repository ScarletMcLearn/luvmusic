<!DOCTYPE html>
<html>

<head>
	<title>Users | Administrator</title>
	<title id="headtitle"></title>
	<link rel="shortcut icon" href="/views/headphones.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="/views/player/css/style.css">
	<link rel="stylesheet" type="text/css" href="/views/player/css/tableStyle.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<!-- javascript link -->

</head>

<body>
	<!-- Sidebar Panel -->
	<% include ../include/sidebar %>

		<!-- Main Content -->
		<div class="main-container">
			<!-- Fixed Header -->
			<% include ../include/fixed_header %>

				<div class="container-inside2">
					<div class="header-text">
						<h3 class="heading-all-text">
							Users
							<a href="/create-user"><i class="fa fa-plus" style="border: none; color: #fff; float: right;"></i></a>
						</h3>
						<hr>
					</div>
					<div class="content-pane">
						<div class="row">
							<table id="myTable" class="contact-info table table-hover">
								<thead>
									<tr class="table-head">
										<th style="width: 10%; display: block; float: left;">#</th>
										<th style="width: 20%; display: block; float: left;">Name</th>
										<th style="width: 10%; display: block; float: left;">Username</th> 
										<th style="width: 30%; display: block; float: left;">Email</th>
										 <th style="width: 10%; display: block; float: left;">Country</th> 
										 <th style="width: 10%; display: block; float: left;">City</th> 
										<th style="width: 10%; display: block; float: left;">Action</th>
									</tr>
								</thead>
								<tbody>
								<% for(var i = 0; i < user.length; i++) { %>
										<tr class="table-data">
											<td class="tbl-data" style="text-align: center; width: 10%; display: block; float: left;">
												<%= i+1 %>
											</td>
											<td class="tbl-data" style="text-align: center; width: 20%; display: block; float: left;">
												<%= user[i].name %>
											</td>
											<td class="tbl-data" style="text-align: center; width: 10%; display: block; float: left;">
												<%= user[i].username %>
											</td>
											<td class="tbl-data" style="text-align: center; width: 30%; display: block; float: left;">
												<%= user[i].email %>
											</td>
											 <td class="tbl-data" style="text-align: center; width: 10%; display: block; float: left;">
												<%= user[i].country %>
											</td>
											<td class="tbl-data" style="text-align: center; width: 10%; display: block; float: left;">
												<%= user[i].city %>
											</td>
											<td class="tbl-data" style="text-align: center; width: 10%; display: block; float: left;">
												<a href="/users/<%= user[i]._id %> "><i style="color: #191919;" class="fa fa-user"></i></a>
												<a href="/users/<%= user[i]._id %>/edit "><i style="color: #191919;" class="fa fa-pencil"></i></a>
												<a href="" onclick="deleteUser('<%= user[i]._id %>')"><i style="color: #191919;" class="fa fa-trash"></i></a>
											</td>
										</tr>
									<% } %>
								</tbody>
							</table>

							<!-- <% for(var i = 0; i < user.length; i++) { %>
							  <div><a href="/users/<%= user[i]._id %>"><%= user[i].name %> </a></div>
							<% } %> -->

						</div>
					</div>
				</div>
		</div>

	<script src="/lib/jquery/dist/jquery.min.js"></script>
	<script src="/lib/jquery/dist/script.js"></script>
	<script src="/lib/jquery/dist/jquery-paginate.js"></script>
	<script src="/lib/jquery/dist/jquery-paginate.min.js"></script>
	
	<script>
		// Paginate it
		$('#myTable').paginate({
			limit: 6,
			initialPage: 0
		});		
		
		function deleteUser(id){
			$.ajax({
				method: 'DELETE',
				url: '/users/'+id
			}).done(function(response){
			}).fail(function(response){
			});
		}
	</script>
</body>

</html>